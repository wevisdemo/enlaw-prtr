import{S as C,i as U,s as V,e as _,t as E,k as I,c as v,a as y,h as k,d as h,m as O,b as x,g as j,J as d,K as $,an as B,X as D,Z as w,a0 as N}from"../chunks/vendor-9333f74f.js";import{b as J}from"../chunks/db-7d624bf1.js";var R={};function F(b){let t,e,o,l,a,n,s,r,i;return{c(){t=_("div"),e=_("input"),o=I(),l=_("div"),a=_("button"),n=E("SUBMIT"),this.h()},l(c){t=v(c,"DIV",{});var u=y(t);e=v(u,"INPUT",{class:!0,placeholder:!0}),o=O(u),l=v(u,"DIV",{class:!0});var p=y(l);a=v(p,"BUTTON",{class:!0});var f=y(a);n=k(f,"SUBMIT"),f.forEach(h),p.forEach(h),u.forEach(h),this.h()},h(){x(e,"class","mt-5 bg-prtr-air-blue text-lg border rounded-sm w-full py-1.5 px-2 text-prtr-deep-blue leading-tight font-baijamjuree"),x(e,"placeholder","password"),x(a,"class","disabled:bg-prtr-healthy-blue bg-prtr-deep-blue text-white px-4 py-2 mt-3"),a.disabled=s=b[1]==="",x(l,"class","flex justify-center")},m(c,u){j(c,t,u),d(t,e),D(e,b[1]),d(t,o),d(t,l),d(l,a),d(a,n),r||(i=[w(e,"input",b[6]),w(a,"click",b[3])],r=!0)},p(c,u){u&2&&e.value!==c[1]&&D(e,c[1]),u&2&&s!==(s=c[1]==="")&&(a.disabled=s)},d(c){c&&h(t),r=!1,N(i)}}}function X(b){let t,e,o,l,a,n,s,r,i,c;return{c(){t=_("div"),e=_("button"),o=_("p"),l=E("export CSV"),a=I(),n=_("button"),s=_("p"),r=E("export JSON"),this.h()},l(u){t=v(u,"DIV",{class:!0});var p=y(t);e=v(p,"BUTTON",{class:!0});var f=y(e);o=v(f,"P",{class:!0});var T=y(o);l=k(T,"export CSV"),T.forEach(h),f.forEach(h),a=O(p),n=v(p,"BUTTON",{class:!0});var g=y(n);s=v(g,"P",{class:!0});var S=y(s);r=k(S,"export JSON"),S.forEach(h),g.forEach(h),p.forEach(h),this.h()},h(){x(o,"class","text-xl font-anakotmai"),x(e,"class","text-white hover:text-prtr-healthy-blue bg-prtr-deep-blue rounded flex justify-center items-center px-10 py-4 shadow-xl mx-2"),x(s,"class","text-xl font-anakotmai"),x(n,"class","text-white hover:text-prtr-healthy-blue bg-prtr-deep-blue rounded flex justify-center items-center px-10 py-4 shadow-xl mx-2"),x(t,"class","flex")},m(u,p){j(u,t,p),d(t,e),d(e,o),d(o,l),d(t,a),d(t,n),d(n,s),d(s,r),i||(c=[w(e,"click",b[4]),w(n,"click",b[5])],i=!0)},p:$,d(u){u&&h(t),i=!1,N(c)}}}function z(b){let t,e,o,l;function a(r,i){return r[0]?X:F}let n=a(b),s=n(b);return{c(){t=_("div"),e=_("p"),o=E("EXPORT PETTITOR"),l=I(),s.c(),this.h()},l(r){t=v(r,"DIV",{class:!0});var i=y(t);e=v(i,"P",{class:!0});var c=y(e);o=k(c,"EXPORT PETTITOR"),c.forEach(h),l=O(i),s.l(i),i.forEach(h),this.h()},h(){x(e,"class","font-kanit text-title mb-4 md:mb-11"),x(t,"class","bg-gradient-to-b from-prtr-gradient-a font-kanit via-prtr-gradient-b to-prtr-gradient-c flex flex-col justify-center items-center w-screen h-screen")},m(r,i){j(r,t,i),d(t,e),d(e,o),d(t,l),s.m(t,null)},p(r,[i]){n===(n=a(r))&&s?s.p(r,i):(s.d(1),s=n(r),s&&(s.c(),s.m(t,null)))},i:$,o:$,d(r){r&&h(t),s.d()}}}const A="123456";function K(b,t,e){let o=!1,l="";async function a(p){let f=await J();p==="csv"?n(f):p==="json"&&s(f)}function n(p){const f="prtr_pettitor",T=p.map((m,P)=>({id:P+1,title:m.title,name:`${m.surname} ${m.lastname}`,citizen_id:m.citizenId.replace(/(\d{1})(\d{4})(\d{5})(\d{2})(\d{1})/,"$1-$2-$3-$4-$5"),birthDay:`${m.birthDay_day}/${m.birthDay_month}/${m.birthDay_year}`,email:m.email,tel:m.tel,location:`${m.location} `,signature:m.signature})),g={fieldSeparator:",",decimalSeparator:".",showTitle:!0,title:f,useTextFile:!1,useKeysAsHeaders:!0,filename:f};new B.ExportToCsv(g).generateCsv(T)}function s(p){const f=JSON.stringify(p);new File([""],"TEST.txt"),R.writeFileSync("../../src/downloads",f)}function r(){l===A&&e(0,o=!0)}const i=()=>{a("csv")},c=()=>{a("json")};function u(){l=this.value,e(1,l)}return[o,l,a,r,i,c,u]}class q extends C{constructor(t){super();U(this,t,K,z,V,{})}}export{q as default};
